# Contributing

When contributing to this repository, please first open an an issue describing the update you wish to make, and read over our guidelines.

There are a few different recommended paths to get contributions into the released version..

## Filing Issues

The best way to get started with a contribution is to start a dialog with us. Sometimes features will be under development or out of scope for this module and it's best to check before starting work on contribution, especially for large work items.

## Improving Cmdlets

This module provide a customization logic that helps us to manually improve the autogenerated code, adding missing cmdlets, missing parameters on cmdlets and missing output values.

### Customize Cmdlet Name

Sample: `Remove-AzureADMSPermissionGrantPolicy` as we can see the *noun* here is `PermissionGrantPolicy` there is no such *noun* in Microsoft Graph PowerShell SDK, but there is an equivalent cmdlet this is `Remove-MgPolicyPermissionGrantPolicy` so we add a name customization only.

```Powershell
$mapper = [CmdletMapper]::new()
$mapper.AddCustomization("Remove-AzureADMSPermissionGrantPolicy","Remove-MgPolicyPermissionGrantPolicy", $null, $null)
```

### Customize Cmdlet Paramaters and outputs


### Customize Cmdlet Paramaters

Sample: `New-AzureADUser` this cmdlet has many parameters some are object that needs special transformations for exampla parameter `PasswordProfile` in AzureAD is type `Microsoft.Open.AzureAD.Model.PasswordProfile` and in Microsoft Graph PowerShell SDK is a json object `IMicrosoftGraphPasswordProfile`, in this case we need to add a customization block like this:

```Powershell
$mapper = [CmdletMapper]::new()
$param = @{}
$script = @"
`$Value = @{
    forceChangePasswordNextSignIn = `$TmpValue.ForceChangePasswordNextLogin
    password = `$TmpValue.Password 
}
"@
$param.Add("PasswordProfile", [DataMap]::New("PasswordProfile", "PasswordProfile", 99, [Scriptblock]::Create($script)))
$map.AddCustomization("New-AzureADUser","New-MgUser", $param, $null)
$mapper.AddCustomization("Remove-AzureADMSPermissionGrantPolicy","Remove-MgPolicyPermissionGrantPolicy", $null, $null)
```

### Customize Cmdlet  Output

Taking the same sample: `New-AzureADUser` now this cmdlet also has to return an ObjectId in the final response and all the Microsoft Graph cmdlets returns only Id so we need to add also an output customization as follows:

```Powershell
$mapper = [CmdletMapper]::new()
$param = @{}
$outputs = @{}
$script = @"
`$Value = @{
    forceChangePasswordNextSignIn = `$TmpValue.ForceChangePasswordNextLogin
    password = `$TmpValue.Password 
}
"@
$param.Add("PasswordProfile", [DataMap]::New("PasswordProfile", "PasswordProfile", 99, [Scriptblock]::Create($script)))
$outputs.Add("DisplayName",[DataMap]::New("DisplayName","ObjectId", 2, $null))
$map.AddCustomization("New-AzureADUser","New-MgUser", $param, $outputs)
$map
```

